version: 0.1.7
source: null
info:
  name: 碧空音形
  author: 深白
  version: 0.1.0
  description: 26键半带调音形输入方案
analysis:
  classifier: {}
  degenerator:
    feature:
      提: 横
      捺: 点
    no_cross: false
  selector:
    - 结构完整
    - 根少优先
    - 能连不交
    - 能散不连
    - 全符笔顺
    - 取大优先
form:
  alphabet: qwertyuiopasdfghjklzxcvbnm
  grouping:
    "\ue43d": 人
    亻: 人
    朩: 木
    "\ue04c": 木
    "\ue442": 小
    夂: 攵
    弋: 戈
    辶: 之
    廴: 之
    忄: 心
    "\ue431": 彐
    "\ue432": 彐
    "\ue0d0": 雨
    已: 己
    巳: 己
    刂: 刀
    扌: 手
    "\ue439": 冂
    曰: 日
    "\ue00c": 日
    "\ue44b": 禾
    氺: 水
    犭: 犬
    䒑: 丷
    士: 土
    牜: 牛
    "\ue029": 牛
    衤: 礻
    "\ue0b2": 卩
    氵: 水
    夊: 攵
    戉: 戊
    覀: 西
    "\ue046": "\ue42d"
    "\ue01c": 艮
    亽: 亼
    "\ue0c6": 足
    "\ue011": 匕
    "\ue0d6": 几
    阝: 卩
    "\ue0d2": 月
    "\ue42c": 水
    "\ue42b": 水
    "\ue831": 水
    "\ue051": 心
    禸: "\ue005"
    矛: 予
    半带调韵母-a5: 半带调韵母-a1
    半带调韵母-ang5: 半带调韵母-ang1
    半带调韵母-e5: 半带调韵母-e1
    半带调韵母-en5: 半带调韵母-en1
    半带调韵母-i5: 半带调韵母-i1
    半带调韵母-o5: 半带调韵母-o1
    半带调韵母-u5: 半带调韵母-u1
    半带调韵母-uo5: 半带调韵母-uo1
  mapping:
    龴: j
    几: j
    双拼声母-r: r
    母: a
    申: n
    : r
    子: k
    工: t
    八: k
    由: n
    半带调韵母-an3: l
    厉: t
    半带调韵母-a3: n
    半带调韵母-an1: g
    半带调韵母-e2: a
    : t
    目: d
    半带调韵母-ang4: o
    山: i
    攵: n
    二: q
    半带调韵母-i2: c
    半带调韵母-i4: i
    半带调韵母-iao3: n
    半带调韵母-iu: s
    钅: q
    半带调韵母-o3: z
    乂: i
    : l
    双拼声母-m: m
    半带调韵母-an2: n
    牛: b
    儿: j
    龶: v
    西: n
    : j
    半带调韵母-a2: x
    半带调韵母-ia: e
    大: c
    半带调韵母-ian4: x
    '5': i
    半带调韵母-e1: o
    半带调韵母-u2: j
    半带调韵母-an4: m
    半带调韵母-ui2: s
    半带调韵母-i3: q
    : i
    艮: k
    立: q
    半带调韵母-ong2: t
    半带调韵母-uai: r
    '2': k
    双拼声母-p: p
    半带调韵母-ian2: j
    三: q
    虫: o
    亠: l
    半带调韵母-eng2: v
    半带调韵母-iao4: f
    田: d
    半带调韵母-u1: p
    半带调韵母-ua: x
    双拼声母-g: g
    半带调韵母-a4: l
    十: n
    半带调韵母-ui1: l
    半带调韵母-ui4: h
    厂: k
    双拼声母-z: z
    双拼声母-l: l
    开: k
    凵: t
    : k
    半带调韵母-ong3: z
    止: k
    半带调韵母-uo4: k
    半带调韵母-iao2: m
    半带调韵母-v: r
    月: i
    双拼声母-f: f
    半带调韵母-uo2: t
    '3': i
    灬: e
    匚: q
    戊: c
    木: j
    口: a
    : q
    臼: u
    半带调韵母-ang2: f
    予: r
    半带调韵母-ang3: e
    白: q
    戈: c
    欠: l
    贝: f
    半带调韵母-en4: l
    半带调韵母-eng4: h
    厶: l
    乍: o
    耳: j
    : t
    隹: l
    雨: l
    : x
    犬: c
    双拼声母-sh: u
    半带调韵母-er: t
    半带调韵母-ing2: g
    壬: k
    双拼声母-q: q
    半带调韵母-iong: i
    半带调韵母-uan2: w
    半带调韵母-uan3: v
    刀: d
    半带调韵母-en1: w
    半带调韵母-ve: b
    又: c
    半带调韵母-in: t
    各: d
    半带调韵母-a1: a
    半带调韵母-ing3: m
    半带调韵母-en3: l
    彳: k
    饣: n
    双拼声母-ch: i
    半带调韵母-ong4: s
    半带调韵母-uo3: o
    半带调韵母-e3: c
    半带调韵母-ue: h
    : r
    双拼声母-s: s
    匕: l
    : b
    : r
    半带调韵母-ing1: k
    半带调韵母-o1: h
    双拼声母-zh: v
    双拼声母-w: w
    之: r
    双拼声母-b: b
    双拼声母-n: n
    半带调韵母-uan1: j
    半带调韵母-ie: p
    半带调韵母-ang1: k
    双拼声母-c: c
    半带调韵母-uan4: g
    半带调韵母-e4: f
    心: d
    寸: t
    火: d
    宀: j
    爪: j
    示: v
    半带调韵母-i1: y
    '4': f
    : j
    半带调韵母-ian3: z
    半带调韵母-ui3: u
    及: n
    亼: k
    冂: l
    石: c
    女: f
    半带调韵母-eng3: j
    双拼声母-j: j
    : t
    半带调韵母-ian1: o
    丷: l
    半带调韵母-o4: u
    日: v
    双拼声母-0: o
    半带调韵母-ong1: n
    : e
    土: l
    马: m
    手: n
    半带调韵母-eng1: d
    半带调韵母-iao1: b
    双拼声母-d: d
    半带调韵母-uang: u
    半带调韵母-un: d
    半带调韵母-u3: b
    半带调韵母-o2: d
    王: n
    '1': q
    力: j
    双拼声母-t: t
    礻: k
    勹: f
    双拼声母-y: k
    : i
    半带调韵母-en2: a
    禾: v
    水: k
    于: t
    半带调韵母-iang: l
    半带调韵母-u4: e
    足: d
    双拼声母-k: y
    卩: o
    莫: q
    讠: a
    巾: s
    彐: j
    : j
    己: j
    人: l
    小: t
    纟: j
    艹: b
    半带调韵母-ing4: a
    斤: n
    双拼声母-h: h
    车: r
    半带调韵母-uo1: a
    冫: q
    广: k
    双拼声母-x: x
    疒: h
    : s
    皿: r
encoder:
  max_length: 4
  auto_select_length: 4
  short_code_schemes:
    - prefix: 1
    - prefix: 2
    - prefix: 3
  rules:
    - length_equal: 2
      formula: AaAbBaBb
    - length_equal: 3
      formula: AaBaCaCb
    - length_in_range: [4, 10]
      formula: AaBaCaZa
  sources:
    s0:
      object: null
      next: s1
    s1:
      object: {type: 字音, subtype: 双拼声母}
      index: 0
      next: s2
    s2:
      object: {type: 字音, subtype: 半带调韵母}
      index: 0
      next: s3
    s3:
      object: {type: 字根, rootIndex: 1}
      index: 0
      next: s4
    s4:
      object: {type: 字根, rootIndex: -1}
      index: 0
      next: null
  conditions: {}
algebra:
  半带调韵母:
    - type: xform
      from: ^[jqxy](u)[^n]$
      to: v
    - type: xform
      from: ^.?h?(a.*\d)$
      to: $1
    - type: xform
      from: ^.?h?(e[^r]*\d)$
      to: $1
    - type: xform
      from: ^.?h?(er)\d$
      to: $1
    - type: xform
      from: ^.?h?(i\d|i.{2}\d)$
      to: $1
    - type: xform
      from: ^.?h?(i.|i.{3})\d$
      to: $1
    - type: xform
      from: ^.?h?(o.*\d)$
      to: $1
    - type: xform
      from: ^.?h?(u[oi]?\d|uan\d)$
      to: $1
    - type: xform
      from: ^.?h?(u[aen]i?|uang)\d$
      to: $1
    - type: xform
      from: ^.?h?(v.*)\d$
      to: $1
    - type: xform
      from: ^h?(m|ng?)\d$
      to: $1
optimization:
  objective:
    characters_full: {}
    characters_short:
      duplication: 3
      pair_equivalence: 1
      tiers: [{duplication: 2, top: 1500}]
    words_full:
      duplication: 3
  metaheuristic:
    algorithm: SimulatedAnnealing
    parameters:
      t_max: 1
      t_min: 1.e-7
      steps: 1000000
  constraints:
    elements:
      - {element: 双拼声母-0}
      - {element: 双拼声母-b}
      - {element: 双拼声母-c}
      - {element: 双拼声母-ch}
      - {element: 双拼声母-d}
      - {element: 双拼声母-f}
      - {element: 双拼声母-g}
      - {element: 双拼声母-h}
      - {element: 双拼声母-j}
      - {element: 双拼声母-k}
      - {element: 双拼声母-l}
      - {element: 双拼声母-m}
      - {element: 双拼声母-n}
      - {element: 双拼声母-p}
      - {element: 双拼声母-q}
      - {element: 双拼声母-r}
      - {element: 双拼声母-s}
      - {element: 双拼声母-sh}
      - {element: 双拼声母-t}
      - {element: 双拼声母-w}
      - {element: 双拼声母-x}
      - {element: 双拼声母-y}
      - {element: 双拼声母-z}
      - {element: 双拼声母-zh}
data:
  glyph_customization:
    今:
      type: compound
      operator: ⿱
      operandList: [亽, "\ue118"]
    "\ue0dc":
      type: compound
      operator: ⿸
      operandList: [广, "\ue0f0"]
